<html>
<head>
</head>
<body>
<script>
    cajita.log('start');
    YAHOO.log = cajita.log;

    // This test requires that it is run on a php enabled web server

    var sUrl = "php/get.php?username=anonymous&userid=0";

    var callback = {
        success: function(o){
            cajita.log('connection success: ' + YAHOO.lang.dump(o));
        },
        failure: function(o){
            cajita.log('connection failure: ' + YAHOO.lang.dump(o));
        },
        argument: { foo:"foo", bar:"bar" }
    };

    // @BUG this used to work, now throws Component returned failure code: 0x80070057 (NS_ERROR_ILLEGAL_VALUE) [nsIXMLHttpRequest.open]
    // Traced to a null url being sent to the browser.
    // http://code.google.com/p/google-caja/issues/detail?id=1020&q=yui

    var request = YAHOO.util.Connect.asyncRequest('GET', sUrl, callback); 

    cajita.log('end');
</script>
</body>
</html>
