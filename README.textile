h2. YUI-Caja

This projects contains files related to the effort to cajole YUI.

* <a href="http://developer.yahoo.com/yui/">YUI</a>: The YUI Library is a set of utilities and controls, written in JavaScript, for building richly interactive web applications using techniques such as DOM scripting, DHTML and AJAX.

* <a href="http://code.google.com/p/google-caja/">Caja</a>: A source-to-source translator for securing Javascript-based web content

This project requires the full source tree for YUI2 and Caja, both publically available.

Quick start:

<notextile>
<pre>
[~] ➔ mkdir src; cd src
[~/src] ➔ svn checkout http://google-caja.googlecode.com/svn/trunk/ google-caja
[~/src] ➔ git clone git://github.com/yui/yui2.git
[~/src] ➔ git clone git://github.com/apm/yui-caja.git
[~/src] ➔ cd google-caja
[~/src/google-caja] ➔ ant testbed
[~/src/google-caja] ➔ cd ../yui-caja
[~/src/yui-caja] ➔ ln -s ../yui2/build tests/yui
[~/src/yui-caja] ➔ ln -s ../yui2/build tests/yuitests/yui
[~/src/yui-caja] ➔ ln -s ../yui2/build tests/examples/yui
[~/src/yui-caja] ➔ ant
</pre>
</notextile>

Then open tests/index.php in a web browser.  This will require a local web server running PHP.

The index page summarizes the current status of the cajoling and testing process for YUI 2.  Test suites and examples are all powered by a single host.php that wraps the cajoled test and example pages (referred to as gadgets after cajoling).  host.php operates by evaluating query string parameters, so it can be used to test other cajoled content not linked by the index file.

The original source of the individual tests, test suites, and examples are under the /tests directory, in the respective yuitests and examples subfolders.

FireBug Lite is automatically loaded onto the page in IE6 and 7.

p. Todo:

* Replace the script execs with the cajole task should it exist, or create one.
* Host file build step that generates the correct urls to the caja environment based on the caja.base property.
* Document capabilities and known issues for each component. (in progress see /tests/index.php)
* auto-generate yuitests from ../yui2/src/{module}/tests/*.html in the build step.
